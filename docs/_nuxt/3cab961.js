(window.webpackJsonp=window.webpackJsonp||[]).push([[42,37,44,45],{490:function(t,e,r){"use strict";r.r(e);r(9),r(8),r(12),r(3),r(16),r(10),r(17);var n=r(0),o=r(31);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var d={name:"Skeleton",props:{loading:{type:Boolean,default:!0},loadingClass:o.g,color:{type:String,default:"grey-300"}},render:function(t){return this.loading?t("div",{key:"root",attrs:l({role:"alert","aria-busy":"true","aria-live":"polite"},this.$attrs),staticClass:this.color}):this.$slots.default}},f=r(21),component=Object(f.a)(d,undefined,undefined,!1,null,null,null);e.default=component.exports},530:function(t,e,r){var content=r(566);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(29).default)("f7c131a4",content,!0,{sourceMap:!1})},536:function(t,e,r){"use strict";r.r(e);var n=r(5),o=(r(32),r(31)),c=(r(3),r(39),r(43),r(567),r(324),function(t){var e,r=((e=document.createElement("a")).href=t,e.download="invoice.pdf",e.classList.add("sr-only"),e.title="Download order invoice",e);document.body.append(r),r.click(),URL.revokeObjectURL(t),Object(o.b)((function(){return r.remove()}))});function l(t){return d.apply(this,arguments)}function d(){return(d=Object(n.a)(regeneratorRuntime.mark((function t(e){var r,data,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$axios.$get("order/".concat(e,"/download"));case 3:return r=t.sent,data=r.data,n=new File([data],"invoice.pdf"),o=URL.createObjectURL(n),c(o),t.abrupt("return",{data:1});case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return",{error:t.t0});case 14:case"end":return t.stop()}}),t,this,[[0,11]])})))).apply(this,arguments)}var f={name:"UserSettingsDataTableInvoice",props:{item:Object(o.c)(Object),loading:Boolean},data:function(){return{fetchingLink:!1}},methods:{downloadOrder:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.blobUrl=null,t.fetchingLink=!0,e.next=4,l.call(t,t.item.uuid);case 4:r=e.sent,(n=r.error)&&t.$notify.open("".concat(n.message),1500),t.fetchingLink=!1;case 8:case"end":return e.stop()}}),e)})))()}}},h=r(21),v=r(22),m=r.n(v),y=r(452),O=r(451),component=Object(h.a)(f,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-btn",{staticClass:"rounded grey-300 text-secondary--text mr-[12px]",attrs:{icon:"",tile:"",disabled:t.loading,loading:t.fetchingLink},on:{click:t.downloadOrder}},[r("v-icon",[t._v("mdi-tray-arrow-down")])],1)}),[],!1,null,null,null);e.default=component.exports;m()(component,{VBtn:y.a,VIcon:O.a})},540:function(t,e,r){"use strict";r.r(e);r(62),r(39);var n={name:"UserSettingsDataTableEmpty",props:{loading:Boolean},emits:["on-refresh"],computed:{rows:function(){return this.loading?Array.from({length:this.$route.query.limit||5},(function(){return{}})):[{}]}}},o=r(21),c=r(22),l=r.n(c),d=r(452),f=r(451),h=r(468),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("tbody",[t.loading?t._l(t.rows,(function(e,n){return r("tr",{key:n},[r("td",[r("div",[r("Skeleton",{attrs:{"loading-class":"h-[20px] w-[280px] rounded-full"}})],1)]),t._v(" "),r("td",[r("div",[r("Skeleton",{attrs:{"loading-class":"h-[24px] w-[64px] rounded-full"}})],1)]),t._v(" "),r("td",[r("div",[r("Skeleton",{attrs:{"loading-class":"h-[36px] w-[36px] rounded float-right mr-[12px]"}})],1)])])})):r("tr",{staticClass:"relative",attrs:{colspan:"3"}},[t._l(3,(function(i){return r("td",{key:i})})),t._v(" "),r("td",{staticClass:"h-[56px] w-full flex justify-center items-center space-x-12 absolute inset-0"},[r("UiText",{attrs:{variant:"subtitle-2",opacity:"secondary",label:t.loading?"Loading...":"Nothing to show"}}),t._v(" "),r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.attrs,o=e.on;return[r("v-btn",t._g(t._b({attrs:{icon:""},on:{click:function(e){return t.$emit("on-refresh")}}},"v-btn",n,!1),o),[r("v-icon",[t._v("mdi-refresh")])],1)]}}])},[t._v(" "),r("span",[t._v("Refresh")])])],1)],2)],2)}),[],!1,null,null,null);e.default=component.exports;l()(component,{Skeleton:r(490).default,UiText:r(137).default}),l()(component,{VBtn:d.a,VIcon:f.a,VTooltip:h.a})},541:function(t,e,r){"use strict";r.r(e);r(38);var n=r(93),o=r(31),c={name:"UserSettingsDataTableChip",props:{status:{type:String,required:!0,validator:function(t){return["open","pending","paid","shipped","canceled"].includes(Object(o.e)(t))}}},computed:{trimmedStatus:function(){return Object(o.e)(this.status)},getColor:function(){return{open:"info",pending:"secondary",paid:"primary",shipped:"primary-900",canceled:"grey-400"}[this.trimmedStatus]},getTitle:function(){return"pending"===this.trimmedStatus?"Pending payment":Object(n.capitalize)(this.trimmedStatus)}}},l=r(21),d=r(22),f=r.n(d),h=r(559),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-chip",{attrs:{color:t.getColor,small:""}},[r("UiText",{staticClass:"white--text text-13",attrs:{tag:"span",variant:"custom",opacity:"custom",label:t.getTitle}})],1)}),[],!1,null,null,null);e.default=component.exports;f()(component,{UiText:r(137).default}),f()(component,{VChip:h.a})},565:function(t,e,r){"use strict";r(530)},566:function(t,e,r){var n=r(28)((function(i){return i[1]}));n.push([t.i,"#__nuxt .v-data-table[data-v-4bc36e22] .v-data-footer,#__nuxt .v-data-table[data-v-4bc36e22] td,#__nuxt .v-data-table[data-v-4bc36e22] th{border-color:rgba(0,0,0,.08)}#__nuxt .v-data-table[data-v-4bc36e22] th:not(:hover){color:var(--v-text-secondary-base)}#__nuxt .v-data-table[data-v-4bc36e22] .v-data-table-header th:last-of-type{padding-right:0}#__nuxt .v-data-table[data-v-4bc36e22] .v-data-table__wrapper{padding:0 30px}#__nuxt .v-data-table[data-v-4bc36e22] .v-data-footer{color:var(--v-grey-base)}",""]),n.locals={},t.exports=n},579:function(t,e,r){"use strict";r.r(e);r(9),r(8),r(16),r(10),r(17);var n=r(0),o=r(5),c=(r(30),r(12),r(3),r(20),r(47),r(32),r(45)),l=[{text:"Order UUID",value:"uuid",class:"pl-[28px]",cellClass:"pl-[28px] text"},{text:"Status",value:"status"},{text:"Download Invoice",value:"invoice",align:"right",sortable:!1}],d=r(31);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function h(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var v={name:"UserSettingsDataTable",data:function(){return{headers:l}},fetch:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getOrders();case 2:case"end":return e.stop()}}),e)})))()},computed:h(h(h({},Object(c.d)("user",["latestOrder"])),Object(c.c)("user",["loading","latestOrderItems","latestOrderTotal"])),{},{dialogActive:function(){return"user-settings"===this.$route.query.modal},page:{get:function(){return parseFloat(this.$route.query.page)||1},set:function(t){"string"==typeof t&&this.page!==t&&this.replaceRouteQuery({page:parseFloat(t)||1})}},sortBy:{get:function(){return this.$route.query.sortBy},set:function(t){"string"==typeof t&&this.sortBy!==t&&this.replaceRouteQuery({sortBy:t,desc:0})}},desc:{get:function(){return this.$route.query.desc},set:function(t){var desc=t?1:0;"boolean"==typeof t&&this.desc!==desc&&this.replaceRouteQuery({desc:desc})}},limit:{get:function(){return parseFloat(this.$route.query.limit)||5},set:function(t){isFinite(t)&&this.dialogActive&&t!==this.limit&&this.replaceRouteQuery({limit:t})}},filters:function(){return"".concat(this.page,"-").concat(this.sortBy,"-").concat(this.desc,"-").concat(this.limit)},tableProps:function(){return{page:this.page,headers:this.headers,items:this.latestOrder.items,itemsPerPage:this.limit,serverItemsLength:this.loading?0:this.latestOrderTotal,loading:!!this.loading&&"info",disablePagination:this.loading,disableItemsPerPage:this.loading,itemsPerPageOptions:this.limitOptions,disableSort:!(!this.loading&&this.latestOrderTotal)}},tableEvents:function(){var t=this;return{updateSortBy:function(e){return t.sortBy=e},"update:sort-desc":function(e){return t.desc=e},"update:items-per-page":this.setItemsPerPage,"update:page":this.updatePage}},itemsPerPageOptions:function(){var t=this;return[5,10,15,this.latestOrder.items.length||0].filter((function(e){return e>=t.limit}))}}),watch:{filters:"applyFilters"},methods:h(h({},Object(c.b)("user",["getOrders"])),{},{replaceRouteQuery:function(){var t=arguments,e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.length>0&&void 0!==t[0]?t[0]:{},r.next=3,Object(d.b)();case 3:e.$router.replace({query:h(h({},e.$route.query),n)});case 4:case"end":return r.stop()}}),r)})))()},applyFilters:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var table;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.b)();case 2:return e.next=4,t.getOrders(!0);case 4:table=t.$refs.table,table.$el.closest(".v-dialog").scrollTo({left:0,top:0,behavior:"smooth"});case 7:case"end":return e.stop()}}),e)})))()},setItemsPerPage:function(t){this.limit=t>-1?t:this.latestOrderTotal},updatePage:function(t){this.replaceRouteQuery({page:t})}})},m=v,y=(r(565),r(21)),O=r(22),x=r.n(O),j=r(652),component=Object(y.a)(m,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-data-table",t._g(t._b({ref:"table",staticClass:"elevation-1",scopedSlots:t._u([t.loading||!t.latestOrderTotal?{key:"body",fn:function(){return[r("UserSettingsDataTableEmpty",{attrs:{loading:t.loading},on:{"on-refresh":t.getOrders}})]},proxy:!0}:null,{key:"top",fn:function(){return[r("UiText",{staticClass:"pt-[14px] pl-[20px] pb-[8px]",attrs:{tag:"h3",label:"Latest Orders"}})]},proxy:!0},{key:"item.uuid",fn:function(t){var e=t.item;return[r("UiText",{attrs:{label:e.uuid,opacity:"secondary",variant:"body-2"}})]}},{key:"item.status",fn:function(t){var e=t.item;return[r("UserSettingsDataTableChip",{attrs:{status:e.status}})]}},{key:"item.invoice",fn:function(t){var e=t.item;return[r("UserSettingsDataTableInvoice",{attrs:{item:e}})]}}],null,!0)},"v-data-table",t.tableProps,!1),t.tableEvents))}),[],!1,null,"4bc36e22",null);e.default=component.exports;x()(component,{UserSettingsDataTableEmpty:r(540).default,UiText:r(137).default,UserSettingsDataTableChip:r(541).default,UserSettingsDataTableInvoice:r(536).default}),x()(component,{VDataTable:j.a})}}]);